#!/bin/zsh

clear
startcommands=()
keys=('a' 's' 'd' 'f' 'g' 'h' 'j' 'k' 'l' ';')

lines=""
it=1
tmuxinatorpath="$HOME/.tmuxinator/"
for scriptpath in "$tmuxinatorpath"[a-z]*.tmux; do
    name=$(basename $scriptpath | sed "s/.tmux//")
    key=$keys[$it];
    lines="$lines$key:${(C)name} "
    startcommands[$it]="$scriptpath"
    it=$(expr $it + 1)
done

echo -e "$lines\n"

read choice

if [ -z $choice ]; then
    exit 1
fi

it=1
startcommand=""
for candidate in $startcommands; do
    if [ $keys[$it] = $choice ]; then
        startcommand=$startcommands[$it]
    fi
    it=$(expr $it + 1)
done

clear

if [ -f $startcommand ] && [ ! -x $startcommand ]; then
    source $startcommand
else
    exit 1
fi
