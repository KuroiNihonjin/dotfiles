#!/bin/zsh

radio_on() {
  mpc clear;
  mpc add http://listen.radionomy.com/fuzzy-and-groovy;
  mpc play;
}

radio_off() {
  mpc clear;
  mpc stop;
}

radio_toggle() {
  if radio_test
  then radio_off
  else radio_on
  fi
}

radio_test() {
  current=$(mpc current);
  test "${current#*"FuzzyandGroovy"}" != "$current"
}

case $1 in
  "up")     mpc volume +5 && mpc volume;;
  "down")   mpc volume -5 && mpc volume;;
  "toggle") mpc toggle;;
  "ui")     [ ! -f ~/.mpd/mpd.pid ] && mpd ~/.mpd/mpd.conf 2> /dev/null; ncmpcpp;;
  "radio-on") radio_on;;
  "radio-off") radio_off;;
  "radio-toggle") radio_toggle;;
  *)
esac
